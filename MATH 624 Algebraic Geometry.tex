\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{fullpage}
\usepackage{tikz-cd}
\usepackage{spectralsequences}
\usepackage{adjustbox}
\usepackage[backend=biber, style=alphabetic]{biblatex}
\usepackage{xfrac}
\usepackage{tcolorbox}
\usepackage{xcolor}
\usepackage{graphicx}
\graphicspath{ {D:/Chrome Downloads./} }
\usepackage[parfill]{parskip}
\usepackage{amsthm}
\addbibresource{sample.bib}
\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[theorem]
\theoremstyle{definition}
\newtheorem{remark}{Remark}[theorem]
\theoremstyle{definition}
\newtheorem{proposition}{Proposition}[theorem]
\theoremstyle{definition}
\newtheorem{lemma}[theorem]{Lemma}
\theoremstyle{definition}
\newtheorem{corollary}{Corollary}[theorem]
\theoremstyle{definition}
\newtheorem{example}{Example}[theorem]
\title{MATH 624 Algebraic Geometry}
\author{David Zhu}

\begin{document}
\maketitle

\section{Prevarieties and Varieties}

We will assume that $K|k$ a finite extension, $K$ is algebraically closed. We will use $\mathbb{A}^n(K)=K^n=\mathbb{A}^n_K$ to denote the underlying set, not the $n$-dimensional affine space. Given a point $a=(a_1,...,a_n)\in \mathbb{A}^n_k$, we will use $\varphi_a$ to denote the evaluation map $k[X]\to k$. Similarly, given $f\in k[x]$, we have the evalation map $\tilde{f}: \mathbb{A}_k\to k$. This gives a morphism of $k$-algebras $k[x]\to Maps_k(\mathbb{A}_k,k)$ given by $f\mapsto \tilde{f}$.


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Given $\Sigma\subset k[x]$, define $V(\Sigma)=\{ a\in \mathbb{A}_k: f(a)=0 \textrm{for every} \ f\in \Sigma\}$. This is called the \underline{\textbf{affine k-algebraic set }} defined by $\Sigma$. If $\Sigma=\{f\}$, then $H_f:=V(\Sigma)=V(f)$ defines a \underline{\textbf{hyperplane}} in $\mathbb{A}_k$.
\end{definition}
\end{tcolorbox}



\begin{tcolorbox}[colback=yellow!5!white,colframe=yellow!30!white]
\begin{example}
Easy examples
    \begin{enumerate}
        \item $V((0))=\mathbb{A}_k$. 
        \item $V((1))=\emptyset$
        \item Let $k=\mathbb{C}$. Then, in $\mathbb{A}_k^1$, $V(x^2-1)=\{\pm 1\}$. In $\mathbb{A}_k^2$, $V(x^2-1)=\{(\pm 1,n): n\in k\}$

    \end{enumerate}

\end{example}
\end{tcolorbox}

\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Given $V\subset \mathbb{A_k}$, defined $I(V)=\{ f\in k[x]: f(V)=0 \}$. This is called the \underline{\textbf{ideal}} of $V$.  
\end{definition}
\end{tcolorbox}

\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
    \begin{enumerate}
        \item   Let $I_{\Sigma}\subset k[x]$ be the ideal generated by $\Sigma$. Then, $V(\Sigma)=V(I)$. 
        \item There exists a finite system $f_1,..,f_m$ such that $V(\Sigma)=V(f_1,...,f_m)$
        \item If $\Sigma_1\subset \Sigma_2$, then $V(\Sigma_1)\supset V(\Sigma_2)$
        \item Given $\mathfrak{a}$ an ideal, then $I(V(\mathfrak{a}))=\mathfrak{a}$ iff $\mathfrak{a}=\sqrt{\mathfrak{a}}$.
        \item Given ideals $\mathfrak{a},\mathfrak{b}$, then $V(\mathfrak{a})=V(\mathfrak{b})$ iff $\sqrt{\mathfrak{a}}=\sqrt{\mathfrak{b}}$.  
    \end{enumerate}
  
\end{proposition}
\end{tcolorbox}



\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Let $\mathcal{A}_K^n:=\{ V\subset \mathbb{A}_K^n: V \ \textrm{affine} \ k- \textrm{algebraic sets}  \}$. Given $V\in \mathcal{A}_K^n$, let $k[V]:=k[x]/I(V)$ be the \underline{\textbf{affine coordinate ring}} generated by $V$. 
\end{definition}
\end{tcolorbox}

Let $Id^{rd}(k[x])$ be the set of reduced ideals of $k[x]$. Let $R_n$ be the set of reduced $k$-algebras with $n$-generators.


\begin{tcolorbox}[colback=red!5!white,colframe=red!30!white]
\begin{theorem}
There is a canonical bijection between the set of reduced affine $k$-algebras and reduced ideals of $k[x]$, given by the maps

\[R_n\to Id^{re}(k[X])\to \mathcal{A}^k_K\]
\[k[\underline{x}]\mapsto \mathfrak{a}:=ker(k[x]\xrightarrow{f} k)\mapsto V(\mathfrak{a})\]
with $f$ given by $x\mapsto \underline{x}$. 
\end{theorem}
\end{tcolorbox}

\subsection{The Zariski Topology}
Given $V\in \mathcal{A}_K^n$, there is a canonical map $K[X]\to K[V]$ given by $f\mapsto f_V$. 
\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
Let $\Sigma_i\subset k[X]$, and $f\in k[X]$ be given. then
\begin{enumerate}
    \item $V(\cup_i \Sigma_i)=\cap_i V(\Sigma_i)$
    \item $V(\prod \Sigma_i)=\cup V(\Sigma_i)$
    \item $V((0))= \mathbb{A}_k^n$; $V((1))=\emptyset$
\end{enumerate}
\end{proposition}
\end{tcolorbox}

By the proposition above, we can define the Zariski topology on $\mathbb{A}_k^n$

\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
The Zariski topology on $\mathbb{A}_K^n$ is given by the closed sets $V(\Sigma)$, with $\Sigma\in k[X]$. In particular, the sets $D_f:=\mathbb{A}_k^n-H_f$ is an open set and forms a basis for the topology. 
\end{definition}
\end{tcolorbox}
Note that the zariski topology on product spaces is not the product of zariski topologies. Moreover, the connectedness/irreducibility is dependent on $K|k$. A point is called a generic point of $V$ if its closure contains $V$. 


\begin{tcolorbox}[colback=yellow!5!white,colframe=yellow!30!white]
\begin{example}
If $K|k=\mathbb{C}|\mathbb{Q}$, then $V(x_1^2-2x_2^2)$ is connected and irreducible. If $K|k=\mathbb{C}|\mathbb{Q}[\sqrt{2}]$, then $V(x_1^2-2x_2^2)$ is connected but not irreducible.
\end{example}
\end{tcolorbox}

\begin{tcolorbox}[colback=green!5!white,colframe=green!30!white]
\begin{remark}
For a topological space, $X$, the following are equivalent:
\begin{enumerate}
    \item Every descending chain of closed subsets is stationary. 
    \item Every ascending chain of open subsets is stationary.
\end{enumerate}
A topological space satisfiying the above is called \underline{\textbf{Noetherian}}. For example, $Spec(R)$ is Noetherian if $R$ is Noetherian. Note that if $X$ is Noetherian, then it is automatically quasi-compact. Moreover, there are only finitely many irreducible components and connected components of $X$. 
\end{remark}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
The following hold:
\begin{enumerate}
    \item The Zariski topology is Noetherian on $\mathbb{A}_K$, therefore also on any $V\in \mathcal{A}_K^n$. 
    \item For every $V\in \mathcal{A}_K$, there are only finitely many irreducible components and connected components. 
    \item $V\in \mathcal{A}_K$ is irreducible iff $I(V)$ is a prime ideal. 
    \item Given $V_0\subset V$, $V_0$ is irreducible iff $I_V(V_0):=I(V_0)/I(V)\in Spec(k(V))$ is minimal. 
    \item The connected components in $V\in \mathcal{A}_K$ correspond bijectively to the indecomposable idempotents of $k[V]$. 
    \item  For $V\in \mathcal{A}_K$, $a\in V$ is a generic point iff the evaluation map $k[V]\to k[a]$ is an isomorphism of $k$-algebras. 
\end{enumerate}
\end{proposition}
\end{tcolorbox}



\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Let $T$ be a topological space, and let $V\subset T$.
\begin{enumerate}
    \item dim(V):=sup \{ \textrm{chain of irreducible components ending in }\ V: \}
    \item codim(V):=sup \{ \textrm{chain of irreducible components starting with $V$ and ending in }\ $T$: \}
\end{enumerate}
Note that if $V=\cup V_{\alpha}$, then $dim(V)=supdim(V_{\alpha})$, and similarly for codimensions. Moreover, $dim(V)=dim(\overline{V})$. 
\end{definition}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
(Notions of dimension) Let $V\in \mathcal{A}_K$ be irreducible. Then, the dimension of $V$ is the same as the krull dimension of $K[V]$. 
\end{proposition}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
Suppose irreducible $W\subset V\in \mathcal{A}_K$. Then, 
\[dim(W)+codim_V(W)=dim(V)\] 
\end{proposition}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
$V\in \mathcal{A}_K$ has generic points $a$ iff $td(K|k)\geq dim(V)=td(k(V))$. 
\end{proposition}
\end{tcolorbox}

\subsection{ Base change and Rational Points}

\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Suppose there is an embedding 
\[\begin{tikzcd}
K\arrow[r]&L\\
k\arrow[u]\arrow[r]&l\arrow[u]
\end{tikzcd}\]
Then, there is a natural morphism $k[x]\to l[x]$, which induces a pushforward of ideals and a map $\mathcal{A}_K\to \mathcal{A}_L$. Take the vanishing locus of the pushforward of $I(V)$ gives the base change of $V$. 


\end{definition}
\end{tcolorbox}

\begin{tcolorbox}[colback=green!5!white,colframe=green!30!white]
\begin{remark}
Base change does not preserve connectedness or irreducibility.
\end{remark}
\end{tcolorbox}



\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
$V\in\mathcal{A}_K$ is called \underline{\textbf{absolutely (geometrically) irreducible}} if $V_l$ is irreducible for all field extension $l|k$. It is \underline{\textbf{geometrically connected}} is $V_l$ is connected for all $l|k$.
\end{definition}
\end{tcolorbox}

\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
Let $V\in \mathcal{A}_K$ be affine $k$-algebraic set. Then the following are equivalent:
\begin{enumerate}
    \item $V$ is absolutely irreducible.
    \item $V_{k^s}$ is irreducible.
    \item $V_{\overline{k}}$ irreducible.
\end{enumerate}
\end{proposition}
\end{tcolorbox}
The key observation is that $K^s[x]\to \overline{k}[X]$ is an integral extensions of domains. Therefore, we have going up and going down, and it straightforward to show that $Spec(k^s[X])\to Spec(\overline{k}[X])$ is a homeomorphism. Thus, we have $(2)\implies (3)$. 

To $(3)\implies (1)$, apply the following: 

\begin{tcolorbox}
\begin{lemma}
For every $V\in \mathcal{A}_K$, one has $V(\overline{k})$ is zariski dense in $V$. Therefore, $V_{\overline{k}}$ irreducible implies $V$ irreducible. 
\end{lemma}
\end{tcolorbox}
The proof is exercise. The key point is that if there exists $f$ with $k$-coefficients such that $f$ vanishes on all of $A$



\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
    Let $V\in \mathcal{A}_K$ be affine $k$-algebraic set. Then the following are equivalent:
    \begin{enumerate}
        \item $V$ is geometrically connected. 
        \item $V_{K^s}$ is connected.
        \item $V_{\overline{k}}$ is connected.
    \end{enumerate}
\end{proposition}
\end{tcolorbox}

\section{The category of quasi-affine $k$-algebraic sets}

\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
A \underline{\textbf{quasi-affine}} k-algebrac set is any zariski open subset $U\subset V$ for $V\in \mathcal{A}_K$. 
\end{definition}
\end{tcolorbox}
The complement of hyperplanes is a basis of quasi-affine $k$-algebraic sets.
Let $V\in \mathcal{A}_K$ be non-empty, $f\in K[V]$. Then, the evaluation map $f: V\to \mathcal{A}_K$ is continuous. Moreover, $\varphi=(f_1,...,f_n)$ is also continuous. 


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Let $V\in \mathcal{A}_K$ and $\mathcal{V}\subset V$ be zariski dense. Then, a functions $\varphi: \mathcal{V}\to \mathcal{A}_K$ is called \underline{\textbf{regular}} at $x \in V$ if there exists $f_x,g_x\in k[x]$ and $\mathcal{x}\subset V$ such that $g_x\neq 0$ everywhere on $\mathcal{U}_x$ and $\varphi=\frac{f_x}{g_x}$. A fucntion $\varphi: \mathcal V\to \mathcal{A}_K$ is \underline{\textbf{regular}} if it is regular at every point in $V$. Let $\mathcal{O}_x:=\{ \varphi\in Maps(\mathcal{V}, K):\varphi \ \textrm{regular at } x \}$. Define an equivalence relation on $\mathcal{O}_x$ by equivalence on any open neiborhood around $x$. $\mathcal{O}(V)$ is the set of regular functions on $V$. 
\end{definition}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
(rings of regular functions) We have the following:
\begin{enumerate}
    \item $k[V]\to \mathcal{\tilde{O}}(V)$ is an isomorphism of $k$-algebra.
    \item $k[V]_f\to \tilde{O}(U_f)$ is an isomorphism of $k$-algebra. 
\end{enumerate}
\end{proposition}
\end{tcolorbox}
It is helpful to remember that Zariski open sets are dense. Thus, it suffices to show that a function is zero on a basic open $U_f$ to deduce it is globally zero. 

\section{Presheaves and Sheaves}

\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Let $\mathcal{C}$ be a concrete category such as $\textbf{Top, Set, Ab}$. Let $X$ be a topological space with topology $\tau_X$. Then, $\tau_X$ is naturally poset category where morphisms are inclusions. A \underline{\textbf{presheaf}} is a contravariant functor $\mathcal{P}: \tau_X\to \mathcal{C}$. 
\end{definition}
\end{tcolorbox}
Explicitly, $\mathcal{P}$ is given by two data: $1. \mathcal{P}(U)\in Obj(\mathcal{C})$ for every $U\in \tau_X$. $2. \rho_{u',u''}: \mathcal{P}(U'')\to \mathcal{P}(U')$ for every $U'\subset U''$. The elements in the set $P(U)$ are called \underline{\textbf{sections}} above $U$. The image of a section under $\rho$ is called the \underline{\textbf{restriction}}. 


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
A presheaf is a \underline{\textbf{sheaf}} if it has the covering preperty: given an open cover of an open set $U=\cup_i U_i$, with $U+{i,j}:=U_i\cap U_j$ with $s_i\in \mathcal{P}(U_i)$ such that $\rho_{U_i,U_{i,j}}(s_i)=\rho_{U_j,U_{i,j}}(s_i)$, then there exists $s\in \mathcal{P}(U)$ such that $s_i\in \rho_{U,U_i}(s)$ for every $U_i$. 
\end{definition}
\end{tcolorbox}


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Suppose that limits exists in $\mathcal{C}$. Then $\mathcal{P}_x:=\mathcal{P}(U_x)$ is called the \underline{\textbf{stalk}}
of $\mathcal{P}$ at $x$. 

\end{definition}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
$\mathcal{P}$ is a sheaf iff for every $U\in \tau_X$, the map $\varphi_U: U\to \coprod_{x\in U}\mathcal{P}_x$ is injective. 
\end{proposition}
\end{tcolorbox}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
For every presheaf $\mathcal{P}$, there is a sheafification functor $\mathcal{P}\to \mathcal{F}$ that induces isomorphism on stalks. 
\end{proposition}
\end{tcolorbox}


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Let $f:X\to Y$ be a continuous map of topological spaces. Then, 
\begin{enumerate}
    \item Given a (pre)sheaf $\mathcal{P}$ on $X$, then the \underline{\textbf{direct image}} (pre)sheaf $f_*\mathcal{P}$ on $Y$ is defined by $f_*\mathcal{V}:=\mathcal{P}(f^{-1}(V))$ for all $V\in \tau_Y$. In particular, the direct image sheaf is also a sheaf.
    \item Given a presheaf $\mathcal{P}$ on $Y$. There is an \underline{\textbf{inverse image}} sheaf $f^{-1}\mathcal{P}$ on $X$ defined by the limit:
    \[f^{-1}\mathcal{P}(U):=\varprojlim_{U\subset U'} \mathcal{P}(f(U')) \]
    where $U\subset U'$ and $f(U')$ is open. 
\end{enumerate}
\end{definition}
\end{tcolorbox}

\begin{tcolorbox}[colback=green!5!white,colframe=green!30!white]
\begin{remark}
Note that the preimage sheaf is always a preseeaf, but not necessarily a sheaf. 
\end{remark}
\end{tcolorbox}


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
A (locally) \underline{\textbf{ringed space}} is a pair $(X,\mathcal{F})$, where $X$ is a topological space and $\mathcal{F}$ a sheaf of rings on $X$ such that the stalks at each point is a local ring. 
\end{definition} 
\end{tcolorbox}


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
Given locally ringed spaces $(X,\mathcal{F})$, $(Y,\mathcal{G})$, a morphism of locally ringed space is a pair $(f,f^{\sharp})$ such that $f: X\to Y$ is continuous and $f^{\sharp}: \mathcal{G}\to f_*\mathcal{F}$ a morphism of sheaves. 
\end{definition}
\end{tcolorbox}

\section{Back to Varieties}


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
    Let $V$ be an affine $k$-algebraic set, $U\subset V$ zariski open. 
    \begin{enumerate}
        \item The assignmenet $\tau_U$, $U'\mapsto \tilde{O}(U')$ defined a locally ringed space on $U$.
        \item A morphism of quasi-affine algebraic set $T\to U$ is any morphism of locally ringed spaces $(f,f^{\sharp}):(T,\mathcal{O}_T)\to (U,\mathcal{O}_U)$
    \end{enumerate}
\end{proposition}
\end{tcolorbox}
The checks are fullfilled by proposition $2.0.1$. 


\begin{tcolorbox}[colback=blue!5!white,colframe=blue!30!white]
\begin{proposition}
Let $(T, \mathcal{O}_T), (U,\mathcal{O}_U)$, and $\Phi: T\to U$ continuous. Then,
\begin{enumerate}
    \item $\Phi$ defined a morphism of locally ringed spaces iff $\mathcal{O}_U\circ \varphi\subset \mathcal{O}_T$, i.e for every $U$ and $T'$ open such that $\Phi(T')\subset U'$ and $\varphi\in \mathcal{O}_U(U')$, then $\varphi\circ \Phi\in \mathcal{O}_T(T')$. 
    \item Suppose $\Phi$ defines such a morphism, and let $U\subset \mathbb{A}_K$, $p: \mathbb{A}^n_K\to K$ the $i$th projection, then $p_i|_{U}\circ \Phi$ completely determines $\Phi$. 
\end{enumerate}
\end{proposition}
\end{tcolorbox}


\begin{tcolorbox}[colback=green!5!white,colframe=green!30!white]
\begin{remark}
Let $U_f:=\{ x\in V|f(x)\neq 0: \}$ be a basic open. Consider $W_f\subset \mathbb{A}^n_K$ defined by $W_f:=\{ (a,b)| a\in \mathbb{A}^n_K, b\in \mathbb{A}^1_K:f(a)b-1=0 \}$ is an algebraic set in $\mathbb{A}^{mn}_K$. Prove that $\Phi: W_f\to U_f$ given by $(a,b)\mapsto a$ is an isomorphism of quasi affine $k$-algebraic sets. Then inverse is given by $\psi: U_f\to W_f$ given by $a\mapsto (a,\frac{1}{f(a)})$.
\end{remark}
\end{tcolorbox}


\begin{tcolorbox}[colback=purple!5!white,colframe=purple!75!black]
\begin{definition}
A quasi-affine $k$-algebraic set is called \underline{\textbf{affine}} if it is isomorphic as a locally ringed space to an affine $k$-algebraic set. 

\end{definition}
\end{tcolorbox}











\end{document}